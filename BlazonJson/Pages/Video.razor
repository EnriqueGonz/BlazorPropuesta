@page  "/curso/play/1"
@inject IJSRuntime JsRuntime
@inject HttpClient Http





    <div class="c-video">
        
            <div class="videoContainer">
                <video class="video" src="http://www.w3schools.com/html/mov_bbb.mp4" id="video">
                    <source id="videoSourceId" type="video/mp4" />
                </video>
            </div>
        


        <div class="controls">
            <div class="orange-bar">
                <div class="orange-juice">

                </div>
            </div>
            <div class="buttons">
                <button @onclick="playpause" id="play-pause"></button>
            </div>
            <div class="time">
                <time id="time-elapsed">00:00</time>
                <span> / </span>
                <time id="duration">00:00</time>
            </div>

            <div class="volume-controls">
                <input @onclick="volumen" class="volume" id="volume" value="1" type="range" max="1" min="0" step="0.01">
            </div>
        </div>
    </div>
    <div class="container">
        <ul id="accordion" class="accordion">
            <li>
                <div class="link"><i class="fa fa-laptop"></i>Laptops<i class="fa fa-chevron-down"></i></div>
                <ul class="submenu">
                    <li><a href="#">Dell Acron</a></li>
                    <li><a href="#">HP Envy</a></li>
                    <li><a href="#">Macbook Air</a></li>
                </ul>
            </li>
            <li>
                <div class="link"><i class="fa fa-tv"></i>Smart TV<i class="fa fa-chevron-down"></i></div>
                <ul class="submenu">
                    <li><a href="#">Sony Bravia</a></li>
                    <li><a href="#">Samsung</a></li>
                    <li><a href="#">MI</a></li>
                </ul>
            </li>
            <li>
                <div class="link"><i class="fa fa-mobile"></i>Mobiles<i class="fa fa-chevron-down"></i></div>
                <ul class="submenu">
                    <li><a href="#">Samsung S9</a></li>
                    <li><a href="#">Apple X</a></li>
                    <li><a href="#">Honor Play</a></li>
                </ul>
            </li>
            <li>
                <div class="link"><i class="fa fa-globe"></i>Search Engines<i class="fa fa-chevron-down"></i></div>
                <ul class="submenu">
                    <li><a href="#">Google</a></li>
                    <li><a href="#">Bing</a></li>
                    <li><a href="#">Yahoo</a></li>
                </ul>
            </li>
        </ul>
    </div>
}



@code {
    private Cursos[] cursos;
    public string[] videoUrl;
    private Videos[] videos;

    protected override async Task OnInitializedAsync()

    {
        cursos = await Http.GetFromJsonAsync<Cursos[]>("sample-data/cursos.json");
        videos = await Http.GetFromJsonAsync<Videos[]>("sample-data/videos.json");
        await JsRuntime.InvokeVoidAsync("menu");

    }
    string[] m_strRenderMe = new string[] {
        "http://www.w3schools.com/html/mov_bbb.mp4",
        "http://www.w3schools.com/html/movie.mp4"
    };



    int currentVideo = 0;

    protected void ChangeVideo()
    {
        currentVideo = (currentVideo + 1) % 2;
        JsRuntime.InvokeVoidAsync("loadVideo");
    }
    async Task playpause()

    {
        await JsRuntime.InvokeVoidAsync("convertArray");
        await JsRuntime.InvokeAsync<String>("listener", m_strRenderMe.ToList());
        await JsRuntime.InvokeVoidAsync("tooglePP");



    }
    async Task volumen()
    {
        await JsRuntime.InvokeVoidAsync("volumen");
    }

    async Task video2()
    {
        await JsRuntime.InvokeVoidAsync("autoplay");
    }
    async Task video3()
    {
        await JsRuntime.InvokeVoidAsync("video3");
    }
    public class Cursos
    {
        public int Id_curso { get; set; }

        public String Titulo { get; set; }

        public String Descripcion { get; set; }

        public String Duracion { get; set; }

        public String Costo { get; set; }

        public String Imagen_curso { get; set; }

    }
    public class Videos
    {
        public int Id_curso { get; set; }

        public int id_video { get; set; }

        public String url { get; set; }

        public int capitulo { get; set; }

        public String id_seccion { get; set; }

        public String descripcion { get; set; }

    }
}
